<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="/static/css/graph.css" th:href="@{/css/graph.css}">
    <title>Graph</title>
</head>

<body>
    <div class="graph">
        <canvas id="myChart" width="800" height="400"></canvas>

        <div class="row">
            <div class="input">
                <label>x min = </label> <input class="inX" id="x_min" type="number" name="inX" step="1" value="1">
            </div>
            <div class="input">
                <label>x max = </label> <input class="inX" id="x_max" type="number" name="inX" step="1" value="1">
            </div>
        </div>

        <div class="row">
            <div class="input">
                <label>y min = </label> <input class="inX" id="y_min" type="number" name="inX" step="1" value="1">
            </div>
            <div class="input">
                <label>y max = </label> <input class="inX" id="y_max" type="number" name="inX" step="1" value="1">
            </div>
        </div>

        <button class="button">Вычислить</button>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>

        var functionName = "[[${expression}]]";
        var xyPairs = [{ x: -1, y: 1 },
        { x: -2, y: 4 },
        { x: -3, y: 9 },
        { x: -4, y: 16 },
        { x: -5, y: 25 },
        { x: 0, y: 0 },
        { x: 1, y: 1 },
        { x: 2, y: 4 },
        { x: 3, y: 9 },
        { x: 4, y: 16 },
        { x: 5, y: 25 }
        ];
        var dataset = {
            label: functionName,
            data: xyPairs,
            backgroundColor: 'rgba(0, 0, 255, 0.5)',
            borderColor: 'rgba(0, 0, 255, 1)',
            borderWidth: 1,
            pointRadius: 2
        };

        var chartOptions = {
            scales: {
                xAxes: [{
                    type: 'linear',
                    position: 'bottom'
                }],
                yAxes: [{
                    ticks: {
                        beginAtZero: true
                    }
                }]
            }
        };

        var chartData = {
            datasets: [dataset]
        };

        var ctx = document.getElementById('myChart').getContext('2d');
        var myChart = new Chart(ctx, {
            type: 'scatter',
            data: chartData,
            options: chartOptions
        });

    </script>

</body>

</html>